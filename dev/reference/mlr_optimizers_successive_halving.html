<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content='OptimizerSuccessiveHalving class that implements the successive halving
algorithm. The algorithm samples n points and evaluates them with the
smallest budget (lower bound of the budget parameter). With every stage the
budget is increased by a factor of eta and only the best 1/eta points are
promoted to the next stage. The optimization terminates when the maximum
budget is reached (upper bound of the budget parameter).
To identify the budget, the user has to specify explicitly which parameter of
the objective function influences the budget by tagging a single parameter in
the search space (paradox::ParamSet) with "budget".'><title>Hyperparameter Optimization with Successive Halving — mlr_optimizers_successive_halving • mlr3hyperband</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><link href="../deps/_Roboto-0.4.0/font.css" rel="stylesheet"><link href="../deps/_JetBrains%20Mono-0.4.0/font.css" rel="stylesheet"><link href="../deps/_Roboto%20Slab-0.4.0/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Hyperparameter Optimization with Successive Halving — mlr_optimizers_successive_halving"><meta property="og:description" content='OptimizerSuccessiveHalving class that implements the successive halving
algorithm. The algorithm samples n points and evaluates them with the
smallest budget (lower bound of the budget parameter). With every stage the
budget is increased by a factor of eta and only the best 1/eta points are
promoted to the next stage. The optimization terminates when the maximum
budget is reached (upper bound of the budget parameter).
To identify the budget, the user has to specify explicitly which parameter of
the objective function influences the budget by tagging a single parameter in
the search space (paradox::ParamSet) with "budget".'><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">mlr3hyperband</a>

    <small class="nav-text text-default me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.2.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-2">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">
    <span class="fa fa fa fa-file-alt"></span>
     
    Reference
  </a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://mlr3book.mlr-org.com">
    <span class="fa fa fa fa-link"></span>
     
    mlr3book
  </a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/mlr-org/mlr3hyperband/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://lmmisld-lmu-stats-slds.srv.mwn.de/mlr_invite/">
    <span class="fa fa fa fa-comments"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://stackoverflow.com/questions/tagged/mlr">
    <span class="fab fa fab fa-stack-overflow"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://mlr-org.com/">
    <span class="fa fa-rss"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Hyperparameter Optimization with Successive Halving</h1>
      <small class="dont-index">Source: <a href="https://github.com/mlr-org/mlr3hyperband/blob/HEAD/R/OptimizerSuccessiveHalving.R" class="external-link"><code>R/OptimizerSuccessiveHalving.R</code></a></small>
      <div class="d-none name"><code>mlr_optimizers_successive_halving.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>OptimizerSuccessiveHalving</code> class that implements the successive halving
algorithm. The algorithm samples <code>n</code> points and evaluates them with the
smallest budget (lower bound of the <code>budget</code> parameter). With every stage the
budget is increased by a factor of <code>eta</code> and only the best <code>1/eta</code> points are
promoted to the next stage. The optimization terminates when the maximum
budget is reached (upper bound of the <code>budget</code> parameter).</p>
<p>To identify the budget, the user has to specify explicitly which parameter of
the objective function influences the budget by tagging a single parameter in
the search space (<a href="https://paradox.mlr-org.com/reference/ParamSet.html" class="external-link">paradox::ParamSet</a>) with <code>"budget"</code>.</p>
    </div>


    <div class="section level2">
    <h2 id="source">Source<a class="anchor" aria-label="anchor" href="#source"></a></h2>
    <p>Jamieson K, Talwalkar A (2016).
“Non-stochastic Best Arm Identification and Hyperparameter Optimization.”
In Gretton A, Robert CC (eds.), <em>Proceedings of the 19th International Conference on Artificial Intelligence and Statistics</em>, volume 51 series Proceedings of Machine Learning Research, 240-248.
<a href="http://proceedings.mlr.press/v51/jamieson16.html" class="external-link">http://proceedings.mlr.press/v51/jamieson16.html</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="parameters">Parameters<a class="anchor" aria-label="anchor" href="#parameters"></a></h2>
    

<dl><dt><code>n</code></dt>
<dd><p><code>integer(1)</code><br>
Number of points in first stage.</p></dd>

<dt><code>eta</code></dt>
<dd><p><code>numeric(1)</code><br>
With every stage, the point budget is increased by a factor of <code>eta</code>
and only the best <code>1/eta</code> points are used for the next stage.
Non-integer values are supported, but <code>eta</code> is not allowed to be less or
equal 1.</p></dd>

<dt><code>sampler</code></dt>
<dd><p><a href="https://paradox.mlr-org.com/reference/Sampler.html" class="external-link">paradox::Sampler</a><br>
Object defining how the samples of the parameter space should be drawn during
the initialization of each bracket. The default is uniform sampling.</p></dd>

<dt><code>repeats</code></dt>
<dd><p><code>logical(1)</code><br>
If <code>FALSE</code> (default), successive halving terminates once all stages are
evaluated. Otherwise, successive halving starts over again once the last
stage is evaluated.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="archive">Archive<a class="anchor" aria-label="anchor" href="#archive"></a></h2>
    

<p>The <a href="https://bbotk.mlr-org.com/reference/Archive.html" class="external-link">bbotk::Archive</a> holds the following additional column that is specific
to the successive halving algorithm:</p><ul><li><p><code>stage</code> (<code>integer(1))</code><br>
Stage index. Starts counting at 0.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="custom-sampler">Custom sampler<a class="anchor" aria-label="anchor" href="#custom-sampler"></a></h2>
    

<p>Hyperband supports custom <a href="https://paradox.mlr-org.com/reference/Sampler.html" class="external-link">paradox::Sampler</a> object for initial
configurations in each bracket.
A custom sampler may look like this (the full example is given in the
<em>examples</em> section):</p><div class="sourceCode"><pre><code><span class="co"># - beta distribution with alpha = 2 and beta = 5</span>
<span class="co"># - categorical distribution with custom probabilities</span>
<span class="va">sampler</span> <span class="op">=</span> <span class="va"><a href="https://paradox.mlr-org.com/reference/SamplerJointIndep.html" class="external-link">SamplerJointIndep</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>
  <span class="va"><a href="https://paradox.mlr-org.com/reference/Sampler1DRfun.html" class="external-link">Sampler1DRfun</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">params</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span>, <span class="kw">function</span><span class="op">(</span><span class="va">n</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/stats/Beta.html" class="external-link">rbeta</a></span><span class="op">(</span><span class="va">n</span>, <span class="fl">2</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span>,
  <span class="va"><a href="https://paradox.mlr-org.com/reference/Sampler1DCateg.html" class="external-link">Sampler1DCateg</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">params</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span>, prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.2</span>, <span class="fl">0.3</span>, <span class="fl">0.5</span><span class="op">)</span><span class="op">)</span>
<span class="op">)</span><span class="op">)</span></code></pre></div>

    </div>
    <div class="section level2">
    <h2 id="runtime">Runtime<a class="anchor" aria-label="anchor" href="#runtime"></a></h2>
    

<p>The calculation of each bracket currently assumes a linear runtime in the
chosen budget parameter is always given. Hyperband is designed so each
bracket requires approximately the same runtime as the sum of the budget
over all configurations in each bracket is roughly the same. This will not
hold true once the scaling in the budget parameter is not linear
anymore, even though the sum of the budgets in each bracket remains the
same. A possible adaption would be to introduce a trafo, like it is shown in
the <em>examples</em> section.</p>
    </div>
    <div class="section level2">
    <h2 id="progress-bars">Progress Bars<a class="anchor" aria-label="anchor" href="#progress-bars"></a></h2>
    

<p><code>$optimize()</code> supports progress bars via the package <a href="https://CRAN.R-project.org/package=progressr" class="external-link"><span class="pkg">progressr</span></a>
combined with a <a href="https://bbotk.mlr-org.com/reference/Terminator.html" class="external-link">Terminator</a>. Simply wrap the function in
<code>progressr::with_progress()</code> to enable them. We recommend to use package
<a href="https://CRAN.R-project.org/package=progress" class="external-link"><span class="pkg">progress</span></a> as backend; enable with <code>progressr::handlers("progress")</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="parallelization">Parallelization<a class="anchor" aria-label="anchor" href="#parallelization"></a></h2>
    

<p>In order to support general termination criteria and parallelization, we
evaluate points in a batch-fashion of size <code>batch_size</code>. The points of one
stage in a bracket are evaluated in one batch. Parallelization is supported
via package <a href="https://CRAN.R-project.org/package=future" class="external-link"><span class="pkg">future</span></a> (see <code><a href="https://mlr3.mlr-org.com/reference/benchmark.html" class="external-link">mlr3::benchmark()</a></code>'s section on
parallelization for more details).</p>
    </div>
    <div class="section level2">
    <h2 id="logging">Logging<a class="anchor" aria-label="anchor" href="#logging"></a></h2>
    

<p>Hyperband uses a logger (as implemented in <a href="https://CRAN.R-project.org/package=lgr" class="external-link"><span class="pkg">lgr</span></a>) from package
<a href="https://CRAN.R-project.org/package=bbotk" class="external-link"><span class="pkg">bbotk</span></a>.
Use <code>lgr::get_logger("bbotk")</code> to access and control the logger.</p>
    </div>
    <div class="section level2">
    <h2 id="super-class">Super class<a class="anchor" aria-label="anchor" href="#super-class"></a></h2>
    <p><code><a href="https://bbotk.mlr-org.com/reference/Optimizer.html" class="external-link">bbotk::Optimizer</a></code> -&gt; <code>OptimizerSuccessiveHalving</code></p>
    </div>
    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h2>
    
<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-new"><code>OptimizerSuccessiveHalving$new()</code></a></p></li>
<li><p><a href="#method-clone"><code>OptimizerSuccessiveHalving$clone()</code></a></p></li>
</ul></div><p><details open><summary>Inherited methods</summary><ul><li><p><span class="pkg-link" data-pkg="bbotk" data-topic="Optimizer" data-id="format"><a href="https://bbotk.mlr-org.com/reference/Optimizer.html#method-format"><code>bbotk::Optimizer$format()</code></a></span></p></li>
<li><p><span class="pkg-link" data-pkg="bbotk" data-topic="Optimizer" data-id="optimize"><a href="https://bbotk.mlr-org.com/reference/Optimizer.html#method-optimize"><code>bbotk::Optimizer$optimize()</code></a></span></p></li>
<li><p><span class="pkg-link" data-pkg="bbotk" data-topic="Optimizer" data-id="print"><a href="https://bbotk.mlr-org.com/reference/Optimizer.html#method-print"><code>bbotk::Optimizer$print()</code></a></span></p></li>
</ul></details></p><hr><a id="method-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>Creates a new instance of this <a href="https://r6.r-lib.org/reference/R6Class.html" class="external-link">R6</a> class.</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va"><a href="../reference/mlr_optimizers_successive_halving.html">OptimizerSuccessiveHalving</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-clone"></a><div class="section">
<h3 id="method-clone-">Method <code>clone()</code><a class="anchor" aria-label="anchor" href="#method-clone-"></a></h3>
<p>The objects of this class are cloneable with this method.</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">OptimizerSuccessiveHalving</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>deep</code></dt>
<dd><p>Whether to make a deep clone.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://bbotk.mlr-org.com" class="external-link">bbotk</a></span><span class="op">)</span></span>
<span class="r-in"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-datatable.com" class="external-link">data.table</a></span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">search_space</span> <span class="op">=</span> <span class="va">domain</span> <span class="op">=</span> <span class="fu"><a href="https://paradox.mlr-org.com/reference/ps.html" class="external-link">ps</a></span><span class="op">(</span></span>
<span class="r-in">  x1 <span class="op">=</span> <span class="fu"><a href="https://paradox.mlr-org.com/reference/Domain.html" class="external-link">p_dbl</a></span><span class="op">(</span><span class="op">-</span><span class="fl">5</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span class="r-in">  x2 <span class="op">=</span> <span class="fu"><a href="https://paradox.mlr-org.com/reference/Domain.html" class="external-link">p_dbl</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">15</span><span class="op">)</span>,</span>
<span class="r-in">  fidelity <span class="op">=</span> <span class="fu"><a href="https://paradox.mlr-org.com/reference/Domain.html" class="external-link">p_dbl</a></span><span class="op">(</span><span class="fl">1e-2</span>, <span class="fl">1</span>, tags <span class="op">=</span> <span class="st">"budget"</span><span class="op">)</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># modified branin function</span></span>
<span class="r-in"><span class="va">objective</span> <span class="op">=</span> <span class="va"><a href="https://bbotk.mlr-org.com/reference/ObjectiveRFunDt.html" class="external-link">ObjectiveRFunDt</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span></span>
<span class="r-in">  fun <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">xdt</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in">    <span class="va">a</span> <span class="op">=</span> <span class="fl">1</span></span>
<span class="r-in">    <span class="va">b</span> <span class="op">=</span> <span class="fl">5.1</span> <span class="op">/</span> <span class="op">(</span><span class="fl">4</span> <span class="op">*</span> <span class="op">(</span><span class="va">pi</span> <span class="op">^</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in">    <span class="va">c</span> <span class="op">=</span> <span class="fl">5</span> <span class="op">/</span> <span class="va">pi</span></span>
<span class="r-in">    <span class="va">r</span> <span class="op">=</span> <span class="fl">6</span></span>
<span class="r-in">    <span class="va">s</span> <span class="op">=</span> <span class="fl">10</span></span>
<span class="r-in">    <span class="va">t</span> <span class="op">=</span> <span class="fl">1</span> <span class="op">/</span> <span class="op">(</span><span class="fl">8</span> <span class="op">*</span> <span class="va">pi</span><span class="op">)</span></span>
<span class="r-in">    <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></span><span class="op">(</span>y <span class="op">=</span></span>
<span class="r-in">      <span class="op">(</span><span class="va">a</span> <span class="op">*</span> <span class="op">(</span><span class="op">(</span><span class="va">xdt</span><span class="op">[[</span><span class="st">"x2"</span><span class="op">]</span><span class="op">]</span> <span class="op">-</span></span>
<span class="r-in">      <span class="va">b</span> <span class="op">*</span> <span class="op">(</span><span class="va">xdt</span><span class="op">[[</span><span class="st">"x1"</span><span class="op">]</span><span class="op">]</span> <span class="op">^</span> <span class="fl">2L</span><span class="op">)</span> <span class="op">+</span></span>
<span class="r-in">      <span class="va">c</span> <span class="op">*</span> <span class="va">xdt</span><span class="op">[[</span><span class="st">"x1"</span><span class="op">]</span><span class="op">]</span> <span class="op">-</span> <span class="va">r</span><span class="op">)</span> <span class="op">^</span> <span class="fl">2</span><span class="op">)</span> <span class="op">+</span></span>
<span class="r-in">      <span class="op">(</span><span class="op">(</span><span class="va">s</span> <span class="op">*</span> <span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">t</span><span class="op">)</span><span class="op">)</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Trig.html" class="external-link">cos</a></span><span class="op">(</span><span class="va">xdt</span><span class="op">[[</span><span class="st">"x1"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span class="r-in">      <span class="va">s</span> <span class="op">-</span> <span class="op">(</span><span class="fl">5</span> <span class="op">*</span> <span class="va">xdt</span><span class="op">[[</span><span class="st">"fidelity"</span><span class="op">]</span><span class="op">]</span> <span class="op">*</span> <span class="va">xdt</span><span class="op">[[</span><span class="st">"x1"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in">  <span class="op">}</span>,</span>
<span class="r-in">  domain <span class="op">=</span> <span class="va">domain</span>,</span>
<span class="r-in">  codomain <span class="op">=</span> <span class="fu"><a href="https://paradox.mlr-org.com/reference/ps.html" class="external-link">ps</a></span><span class="op">(</span>y <span class="op">=</span> <span class="fu"><a href="https://paradox.mlr-org.com/reference/Domain.html" class="external-link">p_dbl</a></span><span class="op">(</span>tags <span class="op">=</span> <span class="st">"minimize"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">instance</span> <span class="op">=</span> <span class="va"><a href="https://bbotk.mlr-org.com/reference/OptimInstanceSingleCrit.html" class="external-link">OptimInstanceSingleCrit</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span></span>
<span class="r-in">  objective <span class="op">=</span> <span class="va">objective</span>,</span>
<span class="r-in">  search_space <span class="op">=</span> <span class="va">search_space</span>,</span>
<span class="r-in">  terminator <span class="op">=</span> <span class="fu"><a href="https://bbotk.mlr-org.com/reference/trm.html" class="external-link">trm</a></span><span class="op">(</span><span class="st">"none"</span><span class="op">)</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">optimizer</span> <span class="op">=</span> <span class="fu"><a href="https://bbotk.mlr-org.com/reference/opt.html" class="external-link">opt</a></span><span class="op">(</span><span class="st">"successive_halving"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># modifies the instance by reference</span></span>
<span class="r-in"><span class="va">optimizer</span><span class="op">$</span><span class="fu">optimize</span><span class="op">(</span><span class="va">instance</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          x1       x2 fidelity  x_domain         y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: 3.526259 2.049459     0.16 &lt;list[3]&gt; -1.718372</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># best scoring evaluation</span></span>
<span class="r-in"><span class="va">instance</span><span class="op">$</span><span class="va">result</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          x1       x2 fidelity  x_domain         y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: 3.526259 2.049459     0.16 &lt;list[3]&gt; -1.718372</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># all evaluations</span></span>
<span class="r-in"><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/as.data.table.html" class="external-link">as.data.table</a></span><span class="op">(</span><span class="va">instance</span><span class="op">$</span><span class="va">archive</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             x1         x2 fidelity stage           y           timestamp</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1:  4.8067706 12.3361057     0.01     0 131.6976916 2022-01-03 04:29:59</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2:  3.5546516  0.4229391     0.01     0   3.4363433 2022-01-03 04:29:59</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3:  3.5262589  2.0494585     0.01     0   0.9263224 2022-01-03 04:29:59</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4:  1.7415065  5.4600249     0.01     0  11.6670091 2022-01-03 04:29:59</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5: -2.9615141 14.8561522     0.01     0   9.7597375 2022-01-03 04:29:59</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6:  4.8570208  6.5519708     0.01     0  38.5422543 2022-01-03 04:29:59</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7:  4.6638320  7.7851660     0.01     0  50.2345117 2022-01-03 04:29:59</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8: -3.1012960  1.4324203     0.01     0 116.0361203 2022-01-03 04:29:59</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9:  0.3248212  0.7425342     0.01     0  41.6854792 2022-01-03 04:29:59</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10:  2.3366996 13.1616956     0.01     0 106.7638187 2022-01-03 04:29:59</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11:  1.8934755 12.2549459     0.01     0  84.3945516 2022-01-03 04:29:59</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12:  3.5739485 12.8238126     0.01     0 119.0823460 2022-01-03 04:29:59</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13:  8.6513194  6.6077093     0.01     0  24.8610328 2022-01-03 04:29:59</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14: -1.7437859  0.5591148     0.01     0  82.5497851 2022-01-03 04:29:59</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15: -0.6033094  5.9057558     0.01     0  19.1503630 2022-01-03 04:29:59</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16:  2.7974630 13.0680755     0.01     0 111.2685667 2022-01-03 04:29:59</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17:  3.5262589  2.0494585     0.02     1   0.7500095 2022-01-03 04:29:59</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18:  3.5546516  0.4229391     0.02     1   3.2586107 2022-01-03 04:29:59</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19: -2.9615141 14.8561522     0.02     1   9.9078132 2022-01-03 04:29:59</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20:  1.7415065  5.4600249     0.02     1  11.5799338 2022-01-03 04:29:59</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21: -0.6033094  5.9057558     0.02     1  19.1805284 2022-01-03 04:29:59</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22:  8.6513194  6.6077093     0.02     1  24.4284669 2022-01-03 04:29:59</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23:  4.8570208  6.5519708     0.02     1  38.2994033 2022-01-03 04:29:59</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24:  0.3248212  0.7425342     0.02     1  41.6692381 2022-01-03 04:29:59</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25:  3.5262589  2.0494585     0.04     2   0.3973836 2022-01-03 04:29:59</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26:  3.5546516  0.4229391     0.04     2   2.9031455 2022-01-03 04:29:59</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27: -2.9615141 14.8561522     0.04     2  10.2039646 2022-01-03 04:29:59</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28:  1.7415065  5.4600249     0.04     2  11.4057831 2022-01-03 04:29:59</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29:  3.5262589  2.0494585     0.08     3  -0.3078682 2022-01-03 04:29:59</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30:  3.5546516  0.4229391     0.08     3   2.1922152 2022-01-03 04:29:59</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 31:  3.5262589  2.0494585     0.16     4  -1.7183718 2022-01-03 04:29:59</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             x1         x2 fidelity stage           y           timestamp</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     batch_nr</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1:        1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2:        1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3:        1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4:        1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5:        1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6:        1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7:        1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8:        1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9:        1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10:        1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11:        1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12:        1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13:        1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14:        1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15:        1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16:        1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17:        2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18:        2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19:        2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20:        2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21:        2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22:        2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23:        2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24:        2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25:        3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26:        3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27:        3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28:        3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29:        4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30:        4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 31:        5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     batch_nr</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Marc Becker, Sebastian Gruber, Jakob Richter, Julia Moosbauer, Bernd Bischl.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

    </footer></div>

  

  

  </body></html>

