<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Optimizer using the Successive Halving Algorithm (SHA).
SHA is initialized with the number of starting configurations n, the proportion of configurations discarded in each stage eta, and the minimum r_min and maximum _max budget of a single evaluation.
The algorithm starts by sampling n random configurations and allocating the minimum budget r_min to them.
The configurations are evaluated and 1 / eta of the worst-performing configurations are discarded.
The remaining configurations are promoted to the next stage and evaluated on a larger budget.
The following table is the stage layout for eta = 2, r_min = 1 and r_max = 8.
in_ir_i
081
142
224
318




i is the stage number, n_i is the number of configurations and r_i is the budget allocated to a single configuration.
The number of stages is calculated so that each stage consumes approximately the same budget.
This sometimes results in the minimum budget having to be slightly adjusted by the algorithm."><title>Hyperparameter Optimization with Successive Halving — mlr_optimizers_successive_halving • mlr3hyperband</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.5/font.css" rel="stylesheet"><link href="../deps/JetBrains_Mono-0.4.5/font.css" rel="stylesheet"><link href="../deps/Roboto_Slab-0.4.5/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Hyperparameter Optimization with Successive Halving — mlr_optimizers_successive_halving"><meta property="og:description" content="Optimizer using the Successive Halving Algorithm (SHA).
SHA is initialized with the number of starting configurations n, the proportion of configurations discarded in each stage eta, and the minimum r_min and maximum _max budget of a single evaluation.
The algorithm starts by sampling n random configurations and allocating the minimum budget r_min to them.
The configurations are evaluated and 1 / eta of the worst-performing configurations are discarded.
The remaining configurations are promoted to the next stage and evaluated on a larger budget.
The following table is the stage layout for eta = 2, r_min = 1 and r_max = 8.
in_ir_i
081
142
224
318




i is the stage number, n_i is the number of configurations and r_i is the budget allocated to a single configuration.
The number of stages is calculated so that each stage consumes approximately the same budget.
This sometimes results in the minimum budget having to be slightly adjusted by the algorithm."><meta property="og:image" content="https://mlr3hyperband.mlr-org.com/logo.png"><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">mlr3hyperband</a>

    <small class="nav-text text-default me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.4.4.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">
    <span class="fa fa fa fa-file-alt"></span>
     
    Reference
  </a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://mlr3book.mlr-org.com">
    <span class="fa fa fa fa-link"></span>
     
    mlr3book
  </a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/mlr-org/mlr3hyperband/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://lmmisld-lmu-stats-slds.srv.mwn.de/mlr_invite/">
    <span class="fa fa fa fa-comments"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://stackoverflow.com/questions/tagged/mlr">
    <span class="fab fa fab fa-stack-overflow"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://mlr-org.com/">
    <span class="fa fa-rss"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Hyperparameter Optimization with Successive Halving</h1>
      <small class="dont-index">Source: <a href="https://github.com/mlr-org/mlr3hyperband/blob/HEAD/R/OptimizerSuccessiveHalving.R" class="external-link"><code>R/OptimizerSuccessiveHalving.R</code></a></small>
      <div class="d-none name"><code>mlr_optimizers_successive_halving.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Optimizer using the Successive Halving Algorithm (SHA).
SHA is initialized with the number of starting configurations <code>n</code>, the proportion of configurations discarded in each stage <code>eta</code>, and the minimum <code>r_min</code> and maximum <code>_max</code> budget of a single evaluation.
The algorithm starts by sampling <code>n</code> random configurations and allocating the minimum budget <code>r_min</code> to them.
The configurations are evaluated and <code>1 / eta</code> of the worst-performing configurations are discarded.
The remaining configurations are promoted to the next stage and evaluated on a larger budget.
The following table is the stage layout for <code>eta = 2</code>, <code>r_min = 1</code> and <code>r_max = 8</code>.</p><table class="table table"><tr><td><code>i</code></td><td><code>n_i</code></td><td><code>r_i</code></td></tr><tr><td>0</td><td>8</td><td>1</td></tr><tr><td>1</td><td>4</td><td>2</td></tr><tr><td>2</td><td>2</td><td>4</td></tr><tr><td>3</td><td>1</td><td>8</td></tr></table><p><code>i</code> is the stage number, <code>n_i</code> is the number of configurations and <code>r_i</code> is the budget allocated to a single configuration.</p>
<p>The number of stages is calculated so that each stage consumes approximately the same budget.
This sometimes results in the minimum budget having to be slightly adjusted by the algorithm.</p>
    </div>


    <div class="section level2">
    <h2 id="source">Source<a class="anchor" aria-label="anchor" href="#source"></a></h2>
    <p>Jamieson K, Talwalkar A (2016).
“Non-stochastic Best Arm Identification and Hyperparameter Optimization.”
In Gretton A, Robert CC (eds.), <em>Proceedings of the 19th International Conference on Artificial Intelligence and Statistics</em>, volume 51 series Proceedings of Machine Learning Research, 240-248.
<a href="http://proceedings.mlr.press/v51/jamieson16.html" class="external-link">http://proceedings.mlr.press/v51/jamieson16.html</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="resources">Resources<a class="anchor" aria-label="anchor" href="#resources"></a></h2>
    

<p>The <a href="https://mlr-org.com/gallery-all-optimization.html" class="external-link">gallery</a> features a collection of case studies and demos about optimization.</p><ul><li><p><a href="https://mlr-org.com/gallery/series/2023-01-15-hyperband-xgboost/" class="external-link">Tune</a> the hyperparameters of XGBoost with Hyperband (Hyperband can be easily swapped with SHA).</p></li>
<li><p>Use data <a href="https://mlr-org.com/gallery/series/2023-01-16-hyperband-subsampling/" class="external-link">subsampling</a> and Hyperband to optimize a support vector machine.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="dictionary">Dictionary<a class="anchor" aria-label="anchor" href="#dictionary"></a></h2>
    

<p>This <a href="https://bbotk.mlr-org.com/reference/Optimizer.html" class="external-link">Optimizer</a> can be instantiated via the <a href="https://mlr3misc.mlr-org.com/reference/Dictionary.html" class="external-link">dictionary</a>
<a href="https://bbotk.mlr-org.com/reference/mlr_optimizers.html" class="external-link">mlr_optimizers</a> or with the associated sugar function <code><a href="https://bbotk.mlr-org.com/reference/opt.html" class="external-link">opt()</a></code>:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>mlr_optimizers<span class="sc">$</span><span class="fu">get</span>(<span class="st">"successive_halving"</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">opt</span>(<span class="st">"successive_halving"</span>)</span></code></pre><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="parameters">Parameters<a class="anchor" aria-label="anchor" href="#parameters"></a></h2>
    

<dl><dt><code>n</code></dt>
<dd><p><code>integer(1)</code><br>
Number of configurations in the base stage.</p></dd>

<dt><code>eta</code></dt>
<dd><p><code>numeric(1)</code><br>
With every stage, the budget is increased by a factor of <code>eta</code> and only the best <code>1 / eta</code> configurations are promoted to the next stage.
Non-integer values are supported, but <code>eta</code> is not allowed to be less or equal to 1.</p></dd>

<dt><code>sampler</code></dt>
<dd><p><a href="https://paradox.mlr-org.com/reference/Sampler.html" class="external-link">paradox::Sampler</a><br>
Object defining how the samples of the parameter space should be drawn.
The default is uniform sampling.</p></dd>

<dt><code>repetitions</code></dt>
<dd><p><code>integer(1)</code><br>
If <code>1</code> (default), optimization is stopped once all stages are evaluated.
Otherwise, optimization is stopped after <code>repetitions</code> runs of SHA.
The <a href="https://bbotk.mlr-org.com/reference/Terminator.html" class="external-link">bbotk::Terminator</a> might stop the optimization before all repetitions are executed.</p></dd>

<dt><code>adjust_minimum_budget</code></dt>
<dd><p><code>logical(1)</code><br>
If <code>TRUE</code>, the minimum budget is increased so that the last stage uses the maximum budget defined in the search space.</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="archive">Archive<a class="anchor" aria-label="anchor" href="#archive"></a></h2>
    

<p>The <a href="https://bbotk.mlr-org.com/reference/Archive.html" class="external-link">bbotk::Archive</a> holds the following additional columns that are specific to SHA:</p><ul><li><p><code>stage</code> (<code>integer(1))</code><br>
Stage index. Starts counting at 0.</p></li>
<li><p><code>repetition</code> (<code>integer(1))</code><br>
Repetition index. Start counting at 1.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="custom-sampler">Custom Sampler<a class="anchor" aria-label="anchor" href="#custom-sampler"></a></h2>
    

<p>Hyperband supports custom <a href="https://paradox.mlr-org.com/reference/Sampler.html" class="external-link">paradox::Sampler</a> object for initial
configurations in each bracket.
A custom sampler may look like this (the full example is given in the
<em>examples</em> section):</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># - beta distribution with alpha = 2 and beta = 5</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># - categorical distribution with custom probabilities</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>sampler <span class="ot">=</span> SamplerJointIndep<span class="sc">$</span><span class="fu">new</span>(<span class="fu">list</span>(</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  Sampler1DRfun<span class="sc">$</span><span class="fu">new</span>(params[[<span class="dv">2</span>]], <span class="cf">function</span>(n) <span class="fu">rbeta</span>(n, <span class="dv">2</span>, <span class="dv">5</span>)),</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  Sampler1DCateg<span class="sc">$</span><span class="fu">new</span>(params[[<span class="dv">3</span>]], <span class="at">prob =</span> <span class="fu">c</span>(<span class="fl">0.2</span>, <span class="fl">0.3</span>, <span class="fl">0.5</span>))</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>))</span></code></pre><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="progress-bars">Progress Bars<a class="anchor" aria-label="anchor" href="#progress-bars"></a></h2>
    

<p><code>$optimize()</code> supports progress bars via the package <a href="https://CRAN.R-project.org/package=progressr" class="external-link"><span class="pkg">progressr</span></a>
combined with a <a href="https://bbotk.mlr-org.com/reference/Terminator.html" class="external-link">Terminator</a>. Simply wrap the function in
<code>progressr::with_progress()</code> to enable them. We recommend to use package
<a href="https://CRAN.R-project.org/package=progress" class="external-link"><span class="pkg">progress</span></a> as backend; enable with <code>progressr::handlers("progress")</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="logging">Logging<a class="anchor" aria-label="anchor" href="#logging"></a></h2>
    

<p>Hyperband uses a logger (as implemented in <a href="https://CRAN.R-project.org/package=lgr" class="external-link"><span class="pkg">lgr</span></a>) from package
<a href="https://CRAN.R-project.org/package=bbotk" class="external-link"><span class="pkg">bbotk</span></a>.
Use <code>lgr::get_logger("bbotk")</code> to access and control the logger.</p>
    </div>
    <div class="section level2">
    <h2 id="super-class">Super class<a class="anchor" aria-label="anchor" href="#super-class"></a></h2>
    <p><code><a href="https://bbotk.mlr-org.com/reference/Optimizer.html" class="external-link">bbotk::Optimizer</a></code> -&gt; <code>OptimizerSuccessiveHalving</code></p>
    </div>
    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h2>
    
<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-OptimizerSuccessiveHalving-new"><code>OptimizerSuccessiveHalving$new()</code></a></p></li>
<li><p><a href="#method-OptimizerSuccessiveHalving-clone"><code>OptimizerSuccessiveHalving$clone()</code></a></p></li>
</ul></div><p><details open><summary>Inherited methods</summary><ul><li><span class="pkg-link" data-pkg="bbotk" data-topic="Optimizer" data-id="format"><a href="https://bbotk.mlr-org.com/reference/Optimizer.html#method-format"><code>bbotk::Optimizer$format()</code></a></span></li>
<li><span class="pkg-link" data-pkg="bbotk" data-topic="Optimizer" data-id="help"><a href="https://bbotk.mlr-org.com/reference/Optimizer.html#method-help"><code>bbotk::Optimizer$help()</code></a></span></li>
<li><span class="pkg-link" data-pkg="bbotk" data-topic="Optimizer" data-id="optimize"><a href="https://bbotk.mlr-org.com/reference/Optimizer.html#method-optimize"><code>bbotk::Optimizer$optimize()</code></a></span></li>
<li><span class="pkg-link" data-pkg="bbotk" data-topic="Optimizer" data-id="print"><a href="https://bbotk.mlr-org.com/reference/Optimizer.html#method-print"><code>bbotk::Optimizer$print()</code></a></span></li>
</ul></details></p><hr><a id="method-OptimizerSuccessiveHalving-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>Creates a new instance of this <a href="https://r6.r-lib.org/reference/R6Class.html" class="external-link">R6</a> class.</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/mlr_optimizers_successive_halving.html">OptimizerSuccessiveHalving</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-OptimizerSuccessiveHalving-clone"></a><div class="section">
<h3 id="method-clone-">Method <code>clone()</code><a class="anchor" aria-label="anchor" href="#method-clone-"></a></h3>
<p>The objects of this class are cloneable with this method.</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">OptimizerSuccessiveHalving</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>deep</code></dt>
<dd><p>Whether to make a deep clone.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://bbotk.mlr-org.com" class="external-link">bbotk</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-datatable.com" class="external-link">data.table</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># set search space</span></span></span>
<span class="r-in"><span><span class="va">search_space</span> <span class="op">=</span> <span class="va">domain</span> <span class="op">=</span> <span class="fu"><a href="https://paradox.mlr-org.com/reference/ps.html" class="external-link">ps</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  x1 <span class="op">=</span> <span class="fu"><a href="https://paradox.mlr-org.com/reference/Domain.html" class="external-link">p_dbl</a></span><span class="op">(</span><span class="op">-</span><span class="fl">5</span>, <span class="fl">10</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  x2 <span class="op">=</span> <span class="fu"><a href="https://paradox.mlr-org.com/reference/Domain.html" class="external-link">p_dbl</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">15</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  fidelity <span class="op">=</span> <span class="fu"><a href="https://paradox.mlr-org.com/reference/Domain.html" class="external-link">p_dbl</a></span><span class="op">(</span><span class="fl">1e-2</span>, <span class="fl">1</span>, tags <span class="op">=</span> <span class="st">"budget"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Branin function with fidelity, see `bbotk::branin()`</span></span></span>
<span class="r-in"><span><span class="va">fun</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">xs</span><span class="op">)</span> <span class="fu"><a href="https://bbotk.mlr-org.com/reference/branin.html" class="external-link">branin_wu</a></span><span class="op">(</span><span class="va">xs</span><span class="op">[[</span><span class="st">"x1"</span><span class="op">]</span><span class="op">]</span>, <span class="va">xs</span><span class="op">[[</span><span class="st">"x2"</span><span class="op">]</span><span class="op">]</span>, <span class="va">xs</span><span class="op">[[</span><span class="st">"fidelity"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># create objective</span></span></span>
<span class="r-in"><span><span class="va">objective</span> <span class="op">=</span> <span class="va"><a href="https://bbotk.mlr-org.com/reference/ObjectiveRFun.html" class="external-link">ObjectiveRFun</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span></span></span>
<span class="r-in"><span>  fun <span class="op">=</span> <span class="va">fun</span>,</span></span>
<span class="r-in"><span>  domain <span class="op">=</span> <span class="va">domain</span>,</span></span>
<span class="r-in"><span>  codomain <span class="op">=</span> <span class="fu"><a href="https://paradox.mlr-org.com/reference/ps.html" class="external-link">ps</a></span><span class="op">(</span>y <span class="op">=</span> <span class="fu"><a href="https://paradox.mlr-org.com/reference/Domain.html" class="external-link">p_dbl</a></span><span class="op">(</span>tags <span class="op">=</span> <span class="st">"minimize"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># initialize instance and optimizer</span></span></span>
<span class="r-in"><span><span class="va">instance</span> <span class="op">=</span> <span class="va"><a href="https://bbotk.mlr-org.com/reference/OptimInstanceSingleCrit.html" class="external-link">OptimInstanceSingleCrit</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span></span></span>
<span class="r-in"><span>  objective <span class="op">=</span> <span class="va">objective</span>,</span></span>
<span class="r-in"><span>  search_space <span class="op">=</span> <span class="va">search_space</span>,</span></span>
<span class="r-in"><span>  terminator <span class="op">=</span> <span class="fu"><a href="https://bbotk.mlr-org.com/reference/trm.html" class="external-link">trm</a></span><span class="op">(</span><span class="st">"evals"</span>, n_evals <span class="op">=</span> <span class="fl">50</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">optimizer</span> <span class="op">=</span> <span class="fu"><a href="https://bbotk.mlr-org.com/reference/opt.html" class="external-link">opt</a></span><span class="op">(</span><span class="st">"successive_halving"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># optimize branin function</span></span></span>
<span class="r-in"><span><span class="va">optimizer</span><span class="op">$</span><span class="fu">optimize</span><span class="op">(</span><span class="va">instance</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           x1      x2 fidelity  x_domain        y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: -3.918878 13.2493     0.16 &lt;list[3]&gt; 3.256725</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># best scoring evaluation</span></span></span>
<span class="r-in"><span><span class="va">instance</span><span class="op">$</span><span class="va">result</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           x1      x2 fidelity  x_domain        y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: -3.918878 13.2493     0.16 &lt;list[3]&gt; 3.256725</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># all evaluations</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/as.data.table.html" class="external-link">as.data.table</a></span><span class="op">(</span><span class="va">instance</span><span class="op">$</span><span class="va">archive</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             x1         x2 fidelity stage repetition          y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1: -0.3372068  2.5626176     0.01     0          1  34.881820</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2:  8.3970241 11.0706666     0.01     0          1 270.944531</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3: -2.1577893  8.4204167     0.01     0          1   6.014305</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4:  1.2884819 13.2046450     0.01     0          1  97.410945</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5:  6.7828500  7.4134317     0.01     0          1 135.499994</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6:  5.3998678  0.1145088     0.01     0          1  19.436927</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7: -3.9188779 13.2492969     0.01     0          1   3.456434</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8:  9.2577396 14.8941033     0.01     0          1 443.266485</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9:  6.4151535 11.5905662     0.01     0          1 231.465076</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10:  2.0551525  8.5388451     0.01     0          1  37.816658</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11:  7.3654601 14.1208567     0.01     0          1 345.959112</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12:  0.5776038 14.7411405     0.01     0          1 111.173750</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13: -4.8482821  3.8263493     0.01     0          1 123.649053</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14: -2.3414694 11.6942187     0.01     0          1   6.558804</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15:  4.1944802  2.2417142     0.01     0          1  10.941150</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16: -3.4531016 14.7766259     0.01     0          1   9.391829</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17: -3.9188779 13.2492969     0.02     1          1   3.439818</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18: -2.1577893  8.4204167     0.02     1          1   6.025076</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19: -2.3414694 11.6942187     0.02     1          1   6.539073</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20: -3.4531016 14.7766259     0.02     1          1   9.322314</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21:  4.1944802  2.2417142     0.02     1          1  10.857489</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22:  5.3998678  0.1145088     0.02     1          1  19.331142</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23: -0.3372068  2.5626176     0.02     1          1  34.882724</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24:  2.0551525  8.5388451     0.02     1          1  37.768676</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25: -3.9188779 13.2492969     0.04     2          1   3.408002</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26: -2.1577893  8.4204167     0.04     2          1   6.046748</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27: -2.3414694 11.6942187     0.04     2          1   6.499793</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28: -3.4531016 14.7766259     0.04     2          1   9.184136</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29: -3.9188779 13.2492969     0.08     3          1   3.350029</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30: -2.1577893  8.4204167     0.08     3          1   6.090613</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 31: -3.9188779 13.2492969     0.16     4          1   3.256725</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             x1         x2 fidelity stage repetition          y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               timestamp batch_nr x_domain_x1 x_domain_x2 x_domain_fidelity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1: 2023-03-02 10:25:48        1  -0.3372068   2.5626176              0.01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2: 2023-03-02 10:25:48        1   8.3970241  11.0706666              0.01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3: 2023-03-02 10:25:48        1  -2.1577893   8.4204167              0.01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4: 2023-03-02 10:25:48        1   1.2884819  13.2046450              0.01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5: 2023-03-02 10:25:48        1   6.7828500   7.4134317              0.01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6: 2023-03-02 10:25:48        1   5.3998678   0.1145088              0.01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7: 2023-03-02 10:25:48        1  -3.9188779  13.2492969              0.01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8: 2023-03-02 10:25:48        1   9.2577396  14.8941033              0.01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9: 2023-03-02 10:25:48        1   6.4151535  11.5905662              0.01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10: 2023-03-02 10:25:48        1   2.0551525   8.5388451              0.01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11: 2023-03-02 10:25:48        1   7.3654601  14.1208567              0.01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12: 2023-03-02 10:25:48        1   0.5776038  14.7411405              0.01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13: 2023-03-02 10:25:48        1  -4.8482821   3.8263493              0.01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14: 2023-03-02 10:25:48        1  -2.3414694  11.6942187              0.01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15: 2023-03-02 10:25:48        1   4.1944802   2.2417142              0.01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16: 2023-03-02 10:25:48        1  -3.4531016  14.7766259              0.01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17: 2023-03-02 10:25:48        2  -3.9188779  13.2492969              0.02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18: 2023-03-02 10:25:48        2  -2.1577893   8.4204167              0.02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19: 2023-03-02 10:25:48        2  -2.3414694  11.6942187              0.02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20: 2023-03-02 10:25:48        2  -3.4531016  14.7766259              0.02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21: 2023-03-02 10:25:48        2   4.1944802   2.2417142              0.02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22: 2023-03-02 10:25:48        2   5.3998678   0.1145088              0.02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23: 2023-03-02 10:25:48        2  -0.3372068   2.5626176              0.02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24: 2023-03-02 10:25:48        2   2.0551525   8.5388451              0.02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25: 2023-03-02 10:25:48        3  -3.9188779  13.2492969              0.04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26: 2023-03-02 10:25:48        3  -2.1577893   8.4204167              0.04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27: 2023-03-02 10:25:48        3  -2.3414694  11.6942187              0.04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28: 2023-03-02 10:25:48        3  -3.4531016  14.7766259              0.04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29: 2023-03-02 10:25:48        4  -3.9188779  13.2492969              0.08</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30: 2023-03-02 10:25:48        4  -2.1577893   8.4204167              0.08</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 31: 2023-03-02 10:25:48        5  -3.9188779  13.2492969              0.16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               timestamp batch_nr x_domain_x1 x_domain_x2 x_domain_fidelity</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Marc Becker, Sebastian Gruber, Jakob Richter, Julia Moosbauer, Bernd Bischl.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

